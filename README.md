## CsvConsoleUtility - консольная утилита написанная на языке php, позволяет конвертировать входной csv файл в исходный csv файл по правилам описанным в конфигурационном файле
### Необходимое ПО
 
  - PHP 7.2
  - Composer
  
### Чтобы развернуть проект, нужно:

  - Склонировать репозиторий с помощью команды ``git clone`` либо скачать проект
  - в папке с проектом выполнить команду ``composer install``

### Запустить unit тесты:
  
  - перейти в папку ``tests``
  - выполнить команду ``../vendor/bin/phpunit .``
  
### Запустить общие тесты:

  - перейти в папку ``commonTests``
  - выполнить команду ``../vendor/bin/phpunit .``


### Примеры входных файлов:
#### Пример входного файла filename.csv
  100,"Советский 2/7, кв. 23","Иванов Иван Иванович",23\
  101,"Советский 2/6, кв. 26","Петров Иван Иванович",35\
  102,"Карболитовская 1, кв. 24","Сидоров Иван Иванович",45
### Пример конфигурационного файла configname.csv
```php
<?php

return [
        1 => 'streetName', // faker
        2 => null, // set value to null
        3 => function ($value, $rowData, $rowIndex, $faker) {
            if ($value == 23) {
                return $rowIndex + 5;
            }
            if ($rowData[0] == 101) {
                return 0;
            }
            return $faker->randomDigit;
    	},
];
```
Для конфигурации доступны типы библиотеки Faker\
Также можно указать функцию, которая принимает аргументы: 
  - текущее значение строки
  - массив значений текущей строки
  - номер строки данных
  - инстанс $faker
  
### Запуск программы из папки с проектом:
 ```php index.php -i inputname.csv -c config.php -o outputname.csv```
 
```
    обязательные параметры: 
   -i|--input <input file>  - Путь до исходного файла
     
   -c|--config <config file> - Путь до файла конфигурации
   
   -o|--output <output file> - Путь до файла с результатом
   
   необязательные параметры:
   -d|--delimiter <delimiter> - Задать разделитель (по умолчанию “,”) для символа табуляции используйте ввод $'\t'
   
   --skip-first - Пропускать модификацию первой строки исходного csv
   
   --strict - Проверяет, что исходный файл содержит необходимое количество описанных в конфигурационном файле столбцов
   справка:
   -h|--help - Вывести справку```
 
 
  
  